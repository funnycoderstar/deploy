(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{224:function(t,e,s){"use strict";s.r(e);var a=s(0),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"babel-preset-env-的-usebuiltins"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel-preset-env-的-usebuiltins","aria-hidden":"true"}},[t._v("#")]),t._v(" @babel/preset-env 的 useBuiltIns")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .babelrc.js")]),t._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    presets"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/preset-env"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            \n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"modules"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 模块使用 es modules ，不使用 commonJS 规范，具体看文末附录")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"useBuiltIns"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'usage'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认 false, 可选 entry , usage")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("useBuiltIns 值为")]),t._v(" "),s("ol",[s("li",[t._v("false 不启用 polyfill，如果在业务入口import '@babel/polyfill', 会无视 .browserslist 将所有的 polyfill 加载进来。")]),t._v(" "),s("li",[t._v("entry 启用， 需要手动 import '@babel/polyfill' 才生效（否则会抛出错误：regeneratorRuntime undefined）, 根据 .browserslist 过滤出 需要的 polyfill (类似 polyfill.io 方案)")]),t._v(" "),s("li",[t._v("usage : 不需要手动import '@babel/polyfill'(加上也无妨，编译时会自动去掉), 且会根据 .browserslist + 业务代码使用到的新 API 按需进行 polyfill。")])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://juejin.im/post/5c03a4d0f265da615e053612",target:"_blank",rel:"noopener noreferrer"}},[t._v("Show me the code，babel 7 最佳实践"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"babel-preset-env-的-modules-选项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel-preset-env-的-modules-选项","aria-hidden":"true"}},[t._v("#")]),t._v(" @babel/preset-env 的 modules 选项")]),t._v(" "),s("p",[t._v("启用将ES6模块语法转换为其他模块类型。\n设置为false, 是不转换")]),t._v(" "),s("blockquote",[s("p",[t._v("webpack代码经过Babel loader 以及其他各种代码的loader之后，再把代码整合。所以该选项一定要设置为 false, webpack才能做按需加载")])]),t._v(" "),s("h2",{attrs:{id:"babel-7-change"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel-7-change","aria-hidden":"true"}},[t._v("#")]),t._v(" Babel 7 change")]),t._v(" "),s("p",[t._v("包重命名： babylon 改为 @babel/parser\n您仍然可以在配置中使用包名称的简写版本（删除preset-或plugin-）\n删除了 @babel/polyfill， 现在@babel/polyfill主要只是core-js2的别名.")])])}),[],!1,null,null,null);e.default=n.exports}}]);