<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Babel包的构成 | 前端学习总结</title>
    <meta name="description" content="前端学习总结">
    <link rel="icon" href="https://cdn.wangyaxing.cn/icon-128x128.png">
    
    <link rel="preload" href="/summary/assets/css/0.styles.976d6aee.css" as="style"><link rel="preload" href="/summary/assets/js/app.42468a2d.js" as="script"><link rel="preload" href="/summary/assets/js/2.1ee37bec.js" as="script"><link rel="preload" href="/summary/assets/js/117.90d5b3de.js" as="script"><link rel="prefetch" href="/summary/assets/js/10.8eb1538c.js"><link rel="prefetch" href="/summary/assets/js/100.1ddcc6b4.js"><link rel="prefetch" href="/summary/assets/js/101.2bb5d105.js"><link rel="prefetch" href="/summary/assets/js/102.c12236a4.js"><link rel="prefetch" href="/summary/assets/js/103.919530c8.js"><link rel="prefetch" href="/summary/assets/js/104.073729fa.js"><link rel="prefetch" href="/summary/assets/js/105.b0f80c52.js"><link rel="prefetch" href="/summary/assets/js/106.799747b6.js"><link rel="prefetch" href="/summary/assets/js/107.cc99fda4.js"><link rel="prefetch" href="/summary/assets/js/108.3e73a198.js"><link rel="prefetch" href="/summary/assets/js/109.af5917b5.js"><link rel="prefetch" href="/summary/assets/js/11.34b775fd.js"><link rel="prefetch" href="/summary/assets/js/110.0f1298d0.js"><link rel="prefetch" href="/summary/assets/js/111.2e89ece1.js"><link rel="prefetch" href="/summary/assets/js/112.fad565e0.js"><link rel="prefetch" href="/summary/assets/js/113.a09f1c19.js"><link rel="prefetch" href="/summary/assets/js/114.43347d48.js"><link rel="prefetch" href="/summary/assets/js/115.96825ee2.js"><link rel="prefetch" href="/summary/assets/js/116.6cdb17d4.js"><link rel="prefetch" href="/summary/assets/js/118.99d0c2c2.js"><link rel="prefetch" href="/summary/assets/js/119.af945a16.js"><link rel="prefetch" href="/summary/assets/js/12.3ad1af9d.js"><link rel="prefetch" href="/summary/assets/js/120.1fb3b05b.js"><link rel="prefetch" href="/summary/assets/js/121.4d5750ab.js"><link rel="prefetch" href="/summary/assets/js/122.7e2047c3.js"><link rel="prefetch" href="/summary/assets/js/123.9fd343ce.js"><link rel="prefetch" href="/summary/assets/js/124.b2d07de2.js"><link rel="prefetch" href="/summary/assets/js/125.93161990.js"><link rel="prefetch" href="/summary/assets/js/126.83749704.js"><link rel="prefetch" href="/summary/assets/js/127.92f55989.js"><link rel="prefetch" href="/summary/assets/js/128.61fa9826.js"><link rel="prefetch" href="/summary/assets/js/129.363cccfd.js"><link rel="prefetch" href="/summary/assets/js/13.3c11b086.js"><link rel="prefetch" href="/summary/assets/js/130.28ccaf07.js"><link rel="prefetch" href="/summary/assets/js/131.0a31acc5.js"><link rel="prefetch" href="/summary/assets/js/132.e5bcaa1f.js"><link rel="prefetch" href="/summary/assets/js/133.c222d33b.js"><link rel="prefetch" href="/summary/assets/js/134.f1cb1ca2.js"><link rel="prefetch" href="/summary/assets/js/135.4be21204.js"><link rel="prefetch" href="/summary/assets/js/136.0c47aa82.js"><link rel="prefetch" href="/summary/assets/js/137.e912039e.js"><link rel="prefetch" href="/summary/assets/js/138.cddcd9f5.js"><link rel="prefetch" href="/summary/assets/js/139.1083da78.js"><link rel="prefetch" href="/summary/assets/js/14.8164a8d3.js"><link rel="prefetch" href="/summary/assets/js/140.4f21b0ac.js"><link rel="prefetch" href="/summary/assets/js/141.5e9002db.js"><link rel="prefetch" href="/summary/assets/js/142.8218a1c2.js"><link rel="prefetch" href="/summary/assets/js/143.7fb53e57.js"><link rel="prefetch" href="/summary/assets/js/144.7fd0b4ea.js"><link rel="prefetch" href="/summary/assets/js/145.6111dedb.js"><link rel="prefetch" href="/summary/assets/js/146.d55743a2.js"><link rel="prefetch" href="/summary/assets/js/147.5c2fa0c9.js"><link rel="prefetch" href="/summary/assets/js/148.1a62ad5e.js"><link rel="prefetch" href="/summary/assets/js/149.6a46114a.js"><link rel="prefetch" href="/summary/assets/js/15.36dbadda.js"><link rel="prefetch" href="/summary/assets/js/150.51fd6a8f.js"><link rel="prefetch" href="/summary/assets/js/151.8b6e7008.js"><link rel="prefetch" href="/summary/assets/js/152.748ade7f.js"><link rel="prefetch" href="/summary/assets/js/153.946244bf.js"><link rel="prefetch" href="/summary/assets/js/154.d2f651ea.js"><link rel="prefetch" href="/summary/assets/js/155.4a2335e5.js"><link rel="prefetch" href="/summary/assets/js/156.dc436376.js"><link rel="prefetch" href="/summary/assets/js/157.3708776f.js"><link rel="prefetch" href="/summary/assets/js/158.3364d602.js"><link rel="prefetch" href="/summary/assets/js/159.3975267e.js"><link rel="prefetch" href="/summary/assets/js/16.be6e7209.js"><link rel="prefetch" href="/summary/assets/js/160.db4f3aa6.js"><link rel="prefetch" href="/summary/assets/js/161.4255839e.js"><link rel="prefetch" href="/summary/assets/js/162.7c07c738.js"><link rel="prefetch" href="/summary/assets/js/17.f769a9df.js"><link rel="prefetch" href="/summary/assets/js/18.e061b4bb.js"><link rel="prefetch" href="/summary/assets/js/19.7dcb6be8.js"><link rel="prefetch" href="/summary/assets/js/20.8d6622a1.js"><link rel="prefetch" href="/summary/assets/js/21.fd7e385f.js"><link rel="prefetch" href="/summary/assets/js/22.86bee446.js"><link rel="prefetch" href="/summary/assets/js/23.98152607.js"><link rel="prefetch" href="/summary/assets/js/24.ff277d23.js"><link rel="prefetch" href="/summary/assets/js/25.38e5ece6.js"><link rel="prefetch" href="/summary/assets/js/26.4bf6adb2.js"><link rel="prefetch" href="/summary/assets/js/27.b9d7e61e.js"><link rel="prefetch" href="/summary/assets/js/28.2fc6a42c.js"><link rel="prefetch" href="/summary/assets/js/29.65730f32.js"><link rel="prefetch" href="/summary/assets/js/3.2d12c32b.js"><link rel="prefetch" href="/summary/assets/js/30.e57d5f14.js"><link rel="prefetch" href="/summary/assets/js/31.c7e63dce.js"><link rel="prefetch" href="/summary/assets/js/32.c404eb4d.js"><link rel="prefetch" href="/summary/assets/js/33.25e97b0c.js"><link rel="prefetch" href="/summary/assets/js/34.fef8ae97.js"><link rel="prefetch" href="/summary/assets/js/35.f3a436c9.js"><link rel="prefetch" href="/summary/assets/js/36.34412875.js"><link rel="prefetch" href="/summary/assets/js/37.808d0668.js"><link rel="prefetch" href="/summary/assets/js/38.69f44859.js"><link rel="prefetch" href="/summary/assets/js/39.0dd4d5dd.js"><link rel="prefetch" href="/summary/assets/js/4.db2c63af.js"><link rel="prefetch" href="/summary/assets/js/40.915d5c12.js"><link rel="prefetch" href="/summary/assets/js/41.2988d821.js"><link rel="prefetch" href="/summary/assets/js/42.43bdad6c.js"><link rel="prefetch" href="/summary/assets/js/43.a41754a4.js"><link rel="prefetch" href="/summary/assets/js/44.c01bdeea.js"><link rel="prefetch" href="/summary/assets/js/45.aa4207d1.js"><link rel="prefetch" href="/summary/assets/js/46.094733d2.js"><link rel="prefetch" href="/summary/assets/js/47.17c71655.js"><link rel="prefetch" href="/summary/assets/js/48.7771c0b7.js"><link rel="prefetch" href="/summary/assets/js/49.76301772.js"><link rel="prefetch" href="/summary/assets/js/5.15730f29.js"><link rel="prefetch" href="/summary/assets/js/50.5995e015.js"><link rel="prefetch" href="/summary/assets/js/51.e6b99fa3.js"><link rel="prefetch" href="/summary/assets/js/52.8c223934.js"><link rel="prefetch" href="/summary/assets/js/53.627a8fc4.js"><link rel="prefetch" href="/summary/assets/js/54.67a4db5f.js"><link rel="prefetch" href="/summary/assets/js/55.03f64c00.js"><link rel="prefetch" href="/summary/assets/js/56.7dccf975.js"><link rel="prefetch" href="/summary/assets/js/57.51c12383.js"><link rel="prefetch" href="/summary/assets/js/58.db835429.js"><link rel="prefetch" href="/summary/assets/js/59.168bc9ce.js"><link rel="prefetch" href="/summary/assets/js/6.00f0d033.js"><link rel="prefetch" href="/summary/assets/js/60.eb31f0c8.js"><link rel="prefetch" href="/summary/assets/js/61.4539e00c.js"><link rel="prefetch" href="/summary/assets/js/62.6c5b6dcf.js"><link rel="prefetch" href="/summary/assets/js/63.a913cf86.js"><link rel="prefetch" href="/summary/assets/js/64.5451dc6a.js"><link rel="prefetch" href="/summary/assets/js/65.13e91371.js"><link rel="prefetch" href="/summary/assets/js/66.da5553b2.js"><link rel="prefetch" href="/summary/assets/js/67.65c83c98.js"><link rel="prefetch" href="/summary/assets/js/68.3cb17917.js"><link rel="prefetch" href="/summary/assets/js/69.df0028cc.js"><link rel="prefetch" href="/summary/assets/js/7.1e0fdcbf.js"><link rel="prefetch" href="/summary/assets/js/70.0be8887e.js"><link rel="prefetch" href="/summary/assets/js/71.f084cd61.js"><link rel="prefetch" href="/summary/assets/js/72.d49a2556.js"><link rel="prefetch" href="/summary/assets/js/73.c0f3819e.js"><link rel="prefetch" href="/summary/assets/js/74.ff86e250.js"><link rel="prefetch" href="/summary/assets/js/75.8c02416e.js"><link rel="prefetch" href="/summary/assets/js/76.a7e8b1fb.js"><link rel="prefetch" href="/summary/assets/js/77.b9734522.js"><link rel="prefetch" href="/summary/assets/js/78.09e8c8fa.js"><link rel="prefetch" href="/summary/assets/js/79.020bb0a2.js"><link rel="prefetch" href="/summary/assets/js/8.393630e6.js"><link rel="prefetch" href="/summary/assets/js/80.8f953533.js"><link rel="prefetch" href="/summary/assets/js/81.835765fa.js"><link rel="prefetch" href="/summary/assets/js/82.fcc83f9a.js"><link rel="prefetch" href="/summary/assets/js/83.fe5ba7fa.js"><link rel="prefetch" href="/summary/assets/js/84.ddfa044f.js"><link rel="prefetch" href="/summary/assets/js/85.b91b8ecb.js"><link rel="prefetch" href="/summary/assets/js/86.c8bc3f53.js"><link rel="prefetch" href="/summary/assets/js/87.441e3f9e.js"><link rel="prefetch" href="/summary/assets/js/88.1b08f34a.js"><link rel="prefetch" href="/summary/assets/js/89.ff281bfb.js"><link rel="prefetch" href="/summary/assets/js/9.b20a9d51.js"><link rel="prefetch" href="/summary/assets/js/90.1b2f916d.js"><link rel="prefetch" href="/summary/assets/js/91.06d4b59d.js"><link rel="prefetch" href="/summary/assets/js/92.d23211f4.js"><link rel="prefetch" href="/summary/assets/js/93.b9840f77.js"><link rel="prefetch" href="/summary/assets/js/94.6c5f4070.js"><link rel="prefetch" href="/summary/assets/js/95.81384028.js"><link rel="prefetch" href="/summary/assets/js/96.5d3dc87e.js"><link rel="prefetch" href="/summary/assets/js/97.30921dca.js"><link rel="prefetch" href="/summary/assets/js/98.f0f74e7a.js"><link rel="prefetch" href="/summary/assets/js/99.d25ae723.js">
    <link rel="stylesheet" href="/summary/assets/css/0.styles.976d6aee.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/summary/" class="home-link router-link-active"><!----> <span class="site-name">前端学习总结</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/summary/" class="nav-link">home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/summary/CSS/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/summary/JavaScript/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/summary/HTTP/" class="nav-link">HTTP</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/summary/vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/summary/React/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/summary/node/" class="nav-link">Node</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/summary/tool/webpack/" class="nav-link">webpack</a></li><li class="dropdown-item"><!----> <a href="/summary/tool/babel.html" class="nav-link">babel</a></li><li class="dropdown-item"><!----> <a href="/summary/tool/other.html" class="nav-link">更多</a></li></ul></div></div><div class="nav-item"><a href="/summary/interview/" class="nav-link">面试题</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/summary/new/" class="nav-link">新技术</a></li><li class="dropdown-item"><!----> <a href="/summary/translation/" class="nav-link">翻译</a></li><li class="dropdown-item"><!----> <a href="/summary/linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/summary/nginx/" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/summary/meteor/" class="nav-link">Meteor</a></li><li class="dropdown-item"><!----> <a href="/summary/test/" class="nav-link">Test</a></li><li class="dropdown-item"><!----> <a href="/summary/wxapp/" class="nav-link">微信小程序</a></li><li class="dropdown-item"><!----> <a href="/summary/Webkit/" class="nav-link">Webkit</a></li><li class="dropdown-item"><!----> <a href="/summary/Safe/" class="nav-link">安全</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/funnycoderstar/leetcode" target="_blank" rel="noopener noreferrer" class="nav-link external">
  算法
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/funnycoderstar/Front-end-summary" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/summary/" class="nav-link">home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/summary/CSS/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/summary/JavaScript/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/summary/HTTP/" class="nav-link">HTTP</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/summary/vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/summary/React/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/summary/node/" class="nav-link">Node</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/summary/tool/webpack/" class="nav-link">webpack</a></li><li class="dropdown-item"><!----> <a href="/summary/tool/babel.html" class="nav-link">babel</a></li><li class="dropdown-item"><!----> <a href="/summary/tool/other.html" class="nav-link">更多</a></li></ul></div></div><div class="nav-item"><a href="/summary/interview/" class="nav-link">面试题</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/summary/new/" class="nav-link">新技术</a></li><li class="dropdown-item"><!----> <a href="/summary/translation/" class="nav-link">翻译</a></li><li class="dropdown-item"><!----> <a href="/summary/linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/summary/nginx/" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/summary/meteor/" class="nav-link">Meteor</a></li><li class="dropdown-item"><!----> <a href="/summary/test/" class="nav-link">Test</a></li><li class="dropdown-item"><!----> <a href="/summary/wxapp/" class="nav-link">微信小程序</a></li><li class="dropdown-item"><!----> <a href="/summary/Webkit/" class="nav-link">Webkit</a></li><li class="dropdown-item"><!----> <a href="/summary/Safe/" class="nav-link">安全</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/funnycoderstar/leetcode" target="_blank" rel="noopener noreferrer" class="nav-link external">
  算法
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/funnycoderstar/Front-end-summary" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="babel包的构成"><a href="#babel包的构成" aria-hidden="true" class="header-anchor">#</a> Babel包的构成</h2> <p><a href="https://github.com/babel/babel/tree/master/packages#core-packages" target="_blank" rel="noopener noreferrer">核心包<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
@babel/core: 是babel转译器本身,提供转义的API,例如babel.transform,webpack的babel-loader就是调用这个API完成转译的
@babel/parser：js的词法解析器
@babel/traverse：用于对AST（抽象语法树Abstract Syntax Tree）的遍历
@babel/generator：根据AST生成代码</p> <p>其他:
babel-polyfill：JS标准新增的原生对象和API的shim，实现上仅仅是core-js和regenerator-runtime两个包的封装
babel-runtime：类似于polyfill，但是不会污染全局变量</p> <h2 id="babel的配置"><a href="#babel的配置" aria-hidden="true" class="header-anchor">#</a> babel的配置</h2> <p>作用: 下一代javaScript语法编译器; 主要是presets和plugin</p> <h2 id="presets"><a href="#presets" aria-hidden="true" class="header-anchor">#</a> presets</h2> <h3 id="什么是presets"><a href="#什么是presets" aria-hidden="true" class="header-anchor">#</a> 什么是presets</h3> <p>不想自己动手组合插件？没问题！preset 可以作为 Babel 插件的组合，甚至可以作为可以共享的 options 配置。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;presets&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;plugins&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>presets字段定义转码规则</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;presets&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;@babel/env&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;@babel/preset-react&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;plugins&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>语法转义器,只编译语法, 不编译最新的API, 比如let/const会被编译, 而includes/Object.assign等并不能被编译, API的编译需要使用babel-polyfill</p> <p>补丁转义器</p> <p>一种新的语法从提案到变成正式标准, 需要经历5个阶段
Stage 0  展示阶段
Stage 1  征求意见阶段
Stage 2  草案阶段
Stage 3  候选人阶段
Stage 4  定案阶段</p> <p>一个提案只要能进入 Stage 2,就差不多肯定会包括在以后的正式标准中</p> <p>jsx, flow插件</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    presets<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'@vue/app'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> useBuiltIns<span class="token punctuation">:</span> <span class="token string">'entry'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span>
            <span class="token string">'component'</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token string">'libraryName'</span><span class="token punctuation">:</span> <span class="token string">'element-ui'</span><span class="token punctuation">,</span>
                <span class="token string">'styleLibraryName'</span><span class="token punctuation">:</span> <span class="token string">'theme-chalk'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'element-ui'</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span>
            <span class="token string">'component'</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token string">'libraryName'</span><span class="token punctuation">:</span> <span class="token string">'mint-ui'</span><span class="token punctuation">,</span>
                <span class="token string">'style'</span><span class="token punctuation">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'mint-ui'</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;presets&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">&quot;env&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;modules&quot;</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string">&quot;targets&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;browsers&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;&gt; 1%&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;last 2 versions&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;not ie &lt;= 8&quot;</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;stage-2&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;plugins&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span>   <span class="token string">&quot;import&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
            <span class="token string">&quot;libraryName&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;iview&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;libraryDirectory&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;src/components&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">&quot;transform-runtime&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;env&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;test&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;presets&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;env&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;stage-2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&quot;plugins&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;istanbul&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;production&quot;</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;plugins&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">[</span><span class="token string">&quot;transform-remove-console&quot;</span><span class="token punctuation">]</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="babel-polyfill-babel-runtime-babel-plugin-transform-runtime"><a href="#babel-polyfill-babel-runtime-babel-plugin-transform-runtime" aria-hidden="true" class="header-anchor">#</a> babel-polyfill, babel-runtime, babel-plugin-transform-runtime</h2> <p>babel-polyfill主要包含了core-js和regenerator两部分, 它是通过改写全局protoType的方式实现的,会将新的原生对象, API这些都直接引入到全局环境,这样就会污染全局变量,这也是<code>polyfil</code>l的缺陷,这时babel-runtime上场了;</p> <p><code>babel-plugin-transform-runtime</code>是将js中使用到的新的原生对象和静态方法转译成对<code>babel-runtime</code>的引用,而其中babel-runtime的功能其实最终也是有core-js来实现的,其实真正的核心是core-js, 其他都是包装</p> <h3 id="babel-polyfill的使用与优化"><a href="#babel-polyfill的使用与优化" aria-hidden="true" class="header-anchor">#</a> babel-polyfill的使用与优化</h3> <p><code>require('babel-polyfill')</code>是全量引入,打包后代码冗余量比较大</p> <p>如果想减小包的体积</p> <ul><li>可以按需进入;</li> <li>配置只有在需要polyfill的浏览器中才进行polyfill</li></ul> <ol><li>配置按需进入
babel-polyfill主要包含了core-js和regenerator两部分。</li></ol> <p>core-js：提供了如ES5、ES6、ES7等规范中 中新定义的各种对象、方法的模拟实现。
regenerator：提供generator支持，如果应用代码中用到generator、async函数的话用到。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'core-js/modules/es6.array.from'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 按需加载引入ES6的Array对象上新定义的方法array.from</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'core-js/es6/array'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 按需加载引入ES6的Array对象上新定义的方法</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'core-js/es6'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 按需加载引入ES6相关的polyfill</span>
</code></pre></div><ol start="2"><li>配置只有在需要polyfill的浏览器中才进行polyfill
也可以在babel的env中设置useBuildins为&quot;entry&quot;来开启, 然后配合 targets.browsers来使用, 如果在<code>.babelrc</code>中没有设置, 则去找到<code>package.json</code>中的<code>browserslist</code>选项</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;presets&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
        <span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;useBuiltIns&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;entry&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;targets&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;chrome&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;58&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;ie&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;11&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="babel-preset-env是什么"><a href="#babel-preset-env是什么" aria-hidden="true" class="header-anchor">#</a> babel-preset-env是什么</h3> <p>babel-preset-env是一系列插件的合集
不包含 babel-stage-x
不包含 babel-polyfill</p> <h3 id="有哪些选项"><a href="#有哪些选项" aria-hidden="true" class="header-anchor">#</a> 有哪些选项</h3> <h3 id="modules"><a href="#modules" aria-hidden="true" class="header-anchor">#</a> modules</h3> <p>babel按照什么模式去处理模块，默认是不处理的，项目中我们一般是交给webpack去处理的，
webpack的tree-shaking 都是因为 ES6 modules 的静态特性才得以实现的.可以在编译阶段确定模块依赖</p> <ul><li>false: 不处理
&quot;amd&quot; | &quot;umd&quot; | &quot;systemjs&quot; | &quot;commonjs&quot; | &quot;cjs&quot; | &quot;auto&quot; | false，默认为&quot;auto&quot;</li></ul> <h3 id="targets"><a href="#targets" aria-hidden="true" class="header-anchor">#</a> targets</h3> <p>需要支持的环境
如果未指定目标，@babel/preset-env则默认情况下将转换所有ECMAScript 2015+代码。
targets.node
targets.browsers
targets.uglify</p> <h3 id="usebuiltins"><a href="#usebuiltins" aria-hidden="true" class="header-anchor">#</a> useBuiltIns:</h3> <p>useBuiltIns是配合polyfill使用的， 此选项配置如何@babel/preset-env处理polyfill。</p> <ul><li><p>false: 默认为false， 意思是babel-polyfill全量引入</p></li> <li><p>entry:
是按照目标环境（即oreset-env的targets属性）去polyfill的，不关心代码中是否使用,可以保证在目标环境一定可用</p></li> <li><p>usage（实验性）:
会分析代码调用，但是对于原型链上的方法仅仅按照名字去匹配,可以得到更小的polyfill体积；</p></li></ul> <p>因为很难去分析代码中是否调用了，例如以下情况就分析不了，会导致出错</p> <ol><li><p>无法分析一个对象是什么类型的
data.split(); 它会认为你用的是String方法的split,但是有可能data是个数组， split是我自己定义的方法，此时polyfill就不准确了</p></li> <li><p>无法分析第三方包是否用到了
include中配置了一个第三方包， 第三包中用到了ES6的 Promise，但是你自己的代码中没有用到Promise, 此时就会判断你的代码中不需要对Promise对象polyfill,然后运行的时候代码就报错了</p></li></ol> <p>综上所述，最优的方案是配置 useBuiltIns为entry, 然后配置targets.browsers， 根据环境去进行polyfill</p> <h3 id="polyfill的时机"><a href="#polyfill的时机" aria-hidden="true" class="header-anchor">#</a> polyfill的时机</h3> <p>编译的时候进行polyfill, 运行的时候判断是否需要用到polyfill</p> <p>https://www.babeljs.cn/docs/plugins/preset-env/</p> <h2 id="plugins-你想使用的转换规则插件"><a href="#plugins-你想使用的转换规则插件" aria-hidden="true" class="header-anchor">#</a> plugins: 你想使用的转换规则插件</h2> <p>babel-plugin-transform-runtime
babel-plugin-syntax-dynamic-import</p> <h2 id="babel的编译过程及原理"><a href="#babel的编译过程及原理" aria-hidden="true" class="header-anchor">#</a> babel的编译过程及原理</h2> <h3 id="ast"><a href="#ast" aria-hidden="true" class="header-anchor">#</a> AST</h3> <p>抽象语法树 (Abstract Syntax Tree), 是指将代码逐字母解析成树状对象.这是语言之间的转换,代码语法检查,代码风格检查,代码格式化,代码高亮,代码错误提示,代码自动补全等等功能
我们怎么知道Babel生成了的AST有哪些节点<a href="https://astexplorer.net/" target="_blank" rel="noopener noreferrer">AST explorer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="举例说明"><a href="#举例说明" aria-hidden="true" class="header-anchor">#</a> 举例说明</h3> <p><code>const add = (a, b) =&gt; a + b;</code>生成的AST代码如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Program&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;start&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;end&quot;</span><span class="token punctuation">:</span> <span class="token number">28</span><span class="token punctuation">,</span>
  <span class="token string">&quot;body&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;VariableDeclaration&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 变量声明</span>
      <span class="token string">&quot;start&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string">&quot;end&quot;</span><span class="token punctuation">:</span> <span class="token number">28</span><span class="token punctuation">,</span>
      <span class="token string">&quot;declarations&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token comment">// 具体声明</span>
        <span class="token punctuation">{</span>
          <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;VariableDeclarator&quot;</span><span class="token punctuation">,</span>
          <span class="token string">&quot;start&quot;</span><span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
          <span class="token string">&quot;end&quot;</span><span class="token punctuation">:</span> <span class="token number">27</span><span class="token punctuation">,</span>
          <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 标识符</span>
            <span class="token string">&quot;start&quot;</span><span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
            <span class="token string">&quot;end&quot;</span><span class="token punctuation">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
            <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;add&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&quot;init&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;ArrowFunctionExpression&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 箭头函数</span>
            <span class="token string">&quot;start&quot;</span><span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
            <span class="token string">&quot;end&quot;</span><span class="token punctuation">:</span> <span class="token number">27</span><span class="token punctuation">,</span>
            <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
            <span class="token string">&quot;expression&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token string">&quot;generator&quot;</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token string">&quot;params&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token comment">// 参数</span>
              <span class="token punctuation">{</span>
                <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;start&quot;</span><span class="token punctuation">:</span> <span class="token number">13</span><span class="token punctuation">,</span>
                <span class="token string">&quot;end&quot;</span><span class="token punctuation">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
                <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;a&quot;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;start&quot;</span><span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
                <span class="token string">&quot;end&quot;</span><span class="token punctuation">:</span> <span class="token number">17</span><span class="token punctuation">,</span>
                <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;b&quot;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;body&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
              <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;BinaryExpression&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 二项式</span>
              <span class="token string">&quot;start&quot;</span><span class="token punctuation">:</span> <span class="token number">22</span><span class="token punctuation">,</span>
              <span class="token string">&quot;end&quot;</span><span class="token punctuation">:</span> <span class="token number">27</span><span class="token punctuation">,</span>
              <span class="token string">&quot;left&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// 二项式左边</span>
                <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;start&quot;</span><span class="token punctuation">:</span> <span class="token number">22</span><span class="token punctuation">,</span>
                <span class="token string">&quot;end&quot;</span><span class="token punctuation">:</span> <span class="token number">23</span><span class="token punctuation">,</span>
                <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;a&quot;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token string">&quot;operator&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;+&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 二项式运算符</span>
              <span class="token string">&quot;right&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// 二项式右边</span>
                <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;start&quot;</span><span class="token punctuation">:</span> <span class="token number">26</span><span class="token punctuation">,</span>
                <span class="token string">&quot;end&quot;</span><span class="token punctuation">:</span> <span class="token number">27</span><span class="token punctuation">,</span>
                <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;b&quot;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">&quot;kind&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;const&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;sourceType&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;module&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Program&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;body&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;VariableDeclaration&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;declarations&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;VariableDeclarator&quot;</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                        <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
                        <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;add&quot;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;init&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                        <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;ArrowFunctionExpression&quot;</span><span class="token punctuation">,</span>
                        <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
                        <span class="token string">&quot;params&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
                            <span class="token punctuation">{</span>
                                <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
                                <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;a&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token punctuation">{</span>
                                <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
                                <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;b&quot;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span><span class="token punctuation">,</span>
                        <span class="token string">&quot;body&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                            <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;BinaryExpression&quot;</span><span class="token punctuation">,</span>
                            <span class="token string">&quot;operator&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;+&quot;</span><span class="token punctuation">,</span>
                            <span class="token string">&quot;left&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                                <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
                                <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;a&quot;</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token string">&quot;right&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                                <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
                                <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;b&quot;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token string">&quot;generator&quot;</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                        <span class="token string">&quot;expression&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                        <span class="token string">&quot;async&quot;</span><span class="token punctuation">:</span> <span class="token boolean">false</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;kind&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;const&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;sourceType&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;script&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如果想要了解更多，可以阅读和尝试：</p> <ul><li><a href="https://astexplorer.net/" target="_blank" rel="noopener noreferrer">分析 AST<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://esprima.org/demo/parse.html#" target="_blank" rel="noopener noreferrer">esprima<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://resources.jointjs.com/demos/javascript-ast" target="_blank" rel="noopener noreferrer">可视化AST<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/estree/estree" target="_blank" rel="noopener noreferrer">AST 规范<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h3 id="ast在很多方面用到"><a href="#ast在很多方面用到" aria-hidden="true" class="header-anchor">#</a> AST在很多方面用到</h3> <p>1.eslint对代码错误或风格的检查,发现一些潜在的错误
2.IDE的错误提示,格式化,高亮,自动补全等
3.UglifyJS压缩代码
4.代码打包工具webpack</p> <h3 id="babel的工作过程"><a href="#babel的工作过程" aria-hidden="true" class="header-anchor">#</a> babel的工作过程</h3> <p><img src="https://img.alicdn.com/tps/TB1nP2ONpXXXXb_XpXXXXXXXXXX-1958-812.png" alt="Babel"></p> <ul><li>Parse（解析）： 将代码字符串解析成抽象语法树； ES6代码输入 ==》进行解析(@babel/parser) ==》 得到AST</li> <li>Transform(转换)：对抽象语法树进行变换操作；plugin用@babel/traverse对AST树进行遍历转译 ==》 得到新的AST树</li> <li>Generate(代码生成)：再根据变换后的抽象语法树再生成代码字符串；用@babel/generator通过AST树生成ES5代码</li></ul> <p>我们来看看Babel是如何把 const add = (a, b) =&gt; a + b,看看它如何经过Babel变成：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="parse-解析"><a href="#parse-解析" aria-hidden="true" class="header-anchor">#</a> Parse(解析)</h3> <p>Parse阶段细分为两个阶段： 分为<strong>词法分析</strong>(Lexical Analysis, LA)和<strong>语法分析</strong>(Syntactic Analysis, SA)</p> <h4 id="词法分析"><a href="#词法分析" aria-hidden="true" class="header-anchor">#</a> 词法分析</h4> <p>词法分析阶段可以看成是对代码进行”分词“， 它接受一段源代码，然后执行一段 tokenize函数，把代码分割成被称为 Tokens的东西，Tokens是一个数组，由一些代码的碎片组成。比如数字，标点符号，运算符号等等。例如这样</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Keyword&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;const&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;add&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Punctuator&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;=&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Punctuator&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;(&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;a&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Punctuator&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;,&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;b&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Punctuator&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;)&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Punctuator&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;=&gt;&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;a&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Punctuator&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;+&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;b&quot;</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

</code></pre></div><p>通过 https://esprima.org/demo/parse.html# 生成；
我们来试着实现一下 tokenize 函数：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 词法分析 tokenize
 * @param {string} code JavaScript 代码
 * @return {Array} token
 */</span>
<span class="token keyword">function</span> <span class="token function">tokenize</span><span class="token punctuation">(</span><span class="token parameter">code</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>code <span class="token operator">||</span> code<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> current <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 记录位置</span>
    <span class="token keyword">var</span> tokens <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 定义一个空的 token 数组</span>
    
    <span class="token keyword">var</span> <span class="token constant">LETTERS</span> <span class="token operator">=</span> <span class="token regex">/[a-zA-Z\$\_]/i</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> <span class="token constant">KEYWORDS</span> <span class="token operator">=</span> <span class="token regex">/const/</span><span class="token punctuation">;</span> <span class="token comment">//  模拟一下判断是不是关键字</span>
    <span class="token keyword">var</span> <span class="token constant">WHITESPACE</span> <span class="token operator">=</span> <span class="token regex">/\s/</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> <span class="token constant">PARENS</span> <span class="token operator">=</span> <span class="token regex">/\(|\)/</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> <span class="token constant">NUMBERS</span> <span class="token operator">=</span> <span class="token regex">/[0-9]/</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> <span class="token constant">OPERATORS</span> <span class="token operator">=</span> <span class="token regex">/[+*/-]/</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> <span class="token constant">PUNCTUATORS</span> <span class="token operator">=</span> <span class="token regex">/[~!@#$%^&amp;*()/\|,.&lt;&gt;?&quot;';:_+-=\[\]{}]/</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 从第一个字符开始遍历</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>current <span class="token operator">&lt;</span> code<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> char <span class="token operator">=</span> code<span class="token punctuation">[</span>current<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">// 判断空格</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">WHITESPACE</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          current<span class="token operator">++</span><span class="token punctuation">;</span>
          <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 判断连续字符</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">LETTERS</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> value <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> type <span class="token operator">=</span> <span class="token string">'Identifier'</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>char <span class="token operator">&amp;&amp;</span> <span class="token constant">LETTERS</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                value <span class="token operator">+=</span> char<span class="token punctuation">;</span>
                char <span class="token operator">=</span> code<span class="token punctuation">[</span><span class="token operator">++</span>current<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// 判断是否是关键字</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">KEYWORDS</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                type <span class="token operator">=</span> <span class="token string">'Keyword'</span>
            <span class="token punctuation">}</span>
            tokens<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                type<span class="token punctuation">:</span> type<span class="token punctuation">,</span>
                value<span class="token punctuation">:</span> value
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 判断小括号</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">PARENS</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            tokens<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              type<span class="token punctuation">:</span> <span class="token string">'Paren'</span><span class="token punctuation">,</span>
              value<span class="token punctuation">:</span> char
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            current<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 判断连续数字</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NUMBERS</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> value <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
          <span class="token keyword">while</span> <span class="token punctuation">(</span>char <span class="token operator">&amp;&amp;</span> <span class="token constant">NUMBERS</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            value <span class="token operator">+=</span> char<span class="token punctuation">;</span>
            char <span class="token operator">=</span> code<span class="token punctuation">[</span><span class="token operator">++</span>current<span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          tokens<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            type<span class="token punctuation">:</span> <span class="token string">'Number'</span><span class="token punctuation">,</span>
            value<span class="token punctuation">:</span> value
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 判断运算符</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">OPERATORS</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            tokens<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                type<span class="token punctuation">:</span> <span class="token string">'Operator'</span><span class="token punctuation">,</span>
                value<span class="token punctuation">:</span> char
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            current<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 判断箭头函数</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">PUNCTUATORS</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> value <span class="token operator">=</span> char<span class="token punctuation">;</span>
            <span class="token keyword">var</span> type <span class="token operator">=</span> <span class="token string">'Punctuator'</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> temp <span class="token operator">=</span> code<span class="token punctuation">[</span><span class="token operator">++</span>current<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>temp <span class="token operator">===</span> <span class="token string">'&gt;'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                type <span class="token operator">=</span> <span class="token string">'ArrowFunction'</span><span class="token punctuation">;</span>
                value <span class="token operator">+=</span> temp<span class="token punctuation">;</span>
                current <span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            tokens<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                type<span class="token punctuation">:</span> type<span class="token punctuation">,</span>
                value<span class="token punctuation">:</span> value
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        tokens<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            type<span class="token punctuation">:</span> <span class="token string">'Identifier'</span><span class="token punctuation">,</span>
            value<span class="token punctuation">:</span> char
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        current<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> tokens<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h4 id="语法分析"><a href="#语法分析" aria-hidden="true" class="header-anchor">#</a> 语法分析</h4> <p>语法分析之后，代码已经变成了一个Tokens数组了，那么现在需要通过语法分析把Tokens转化为上面提到过得AST;</p> <p>可以看一下官方的实现： https://github.com/babel/babel/tree/master/packages/babel-parser/src/parser</p> <h3 id="transform-转换"><a href="#transform-转换" aria-hidden="true" class="header-anchor">#</a> Transform(转换)</h3> <p>对AST进行操作。我们可以看到AST中有很多相似的元素，他们都有一个Type属性，这样的元素被称作节点。一个节点通常包含若干属性，可以用于描述AST的部分信息。
比如这是一个最常见的 Identifier 节点：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> <span class="token string">'Identifier'</span><span class="token punctuation">,</span>
    name<span class="token punctuation">:</span> <span class="token string">'add'</span>
<span class="token punctuation">}</span>
<span class="token comment">// 表示这是一个标识符。</span>
</code></pre></div><p>所以操作 AST 也就是操作其中的节点。可以增删改这些节点。从而转换为实际需要的AST.
babel对于AST的遍历是深度优先遍历，对于AST上的每一个分支Babel都会向下遍历走到尽头，然后再向上遍历退出刚遍历过得节点，然后寻找一一个分支。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Program&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;body&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;VariableDeclaration&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 变量声明</span>
      <span class="token string">&quot;declarations&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token comment">// 具体声明</span>
        <span class="token punctuation">{</span>
          <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;VariableDeclarator&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 变量声明</span>
          <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 标识符（最基础的）</span>
            <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;add&quot;</span> <span class="token comment">// 函数名</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&quot;init&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;ArrowFunctionExpression&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 箭头函数</span>
            <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
            <span class="token string">&quot;expression&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token string">&quot;generator&quot;</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token string">&quot;params&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token comment">// 参数</span>
              <span class="token punctuation">{</span>
                <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;a&quot;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>
                <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;b&quot;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;body&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// 函数体</span>
              <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;BinaryExpression&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 二项式</span>
              <span class="token string">&quot;left&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// 二项式左边</span>
                <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;a&quot;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token string">&quot;operator&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;+&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 二项式运算符</span>
              <span class="token string">&quot;right&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// 二项式右边</span>
                <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;b&quot;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">&quot;kind&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;const&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;sourceType&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;module&quot;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>根节点我们就不说了，从 declarations 里开始遍历：</p> <ol><li>声明了一个变量，并且知道了它的内部属性（id, init）,然后我们再以此访问每一个属性以及它们的子节点。</li> <li>id 是一个Identifier,有一个name属性表示变量</li> <li>之后是init，init也是有好几个内部属性</li></ol> <ul><li>type是ArrowFunctionExpression，表示这是一个箭头函数表达式</li> <li>params是这个箭头函数的入参，其中每一个参数都是一个Identifier类型的节点</li> <li>body属性是这个箭头函数的主体，这是一个BinaryExpression二项式：left,operator,right，分别表示二项式的左边变量，运算符以及右边变量。</li></ul> <p>这是遍历 AST 的白话形式，再看看 Babel 是怎么做的：
这个过程是通过使用<a href="https://github.com/babel/babel/tree/master/packages/babel-traverse" target="_blank" rel="noopener noreferrer">@babel/traverse<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>来完成的</p> <p>babel 会维护一个称作 Visitor 的对象，这个对象定义了用于 AST 中获取具体节点的方法。</p> <p><strong>Visitor</strong>
一个Visitor一般来说是这样的：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> visitor <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">ArrowFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我是箭头函数'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">IfStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我是一个if语句'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">CallExpression</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><p>当我们遍历 AST 的时候，如果匹配上一个 type，就会调用 visitor 里的方法。</p> <p>这只是一个简单的 Visitor。
上面说过，Babel 遍历 AST 其实会经过两次节点：遍历的时候和退出的时候，所以实际上 Babel 中的 Visitor 应该是这样的：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> visitor <span class="token operator">=</span> <span class="token punctuation">{</span>
    Identifier<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">enter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Identifier enter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Identifier exit'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><p>比如我们拿这个 visitor 来遍历这样一个 AST：</p> <div class="language-js extra-class"><pre class="language-js"><code>params<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token comment">// 参数</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;a&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;b&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

</code></pre></div><p>过程可能是这样的...</p> <ul><li>进入 Identifier(params[0])</li> <li>走到尽头</li> <li>退出 Identifier(params[0])</li> <li>进入 Identifier(params[1])</li> <li>走到尽头</li> <li>退出 Identifier(params[1])</li></ul> <p>回到上面的🌰，箭头函数是 ES5 不支持的语法，所以 Babel 得把它转换成普通函数，一层层遍历下去，找到了 ArrowFunctionExpression 节点，这时候就需要把它替换成 FunctionDeclaration 节点。所以，箭头函数可能是这样处理的：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> t <span class="token keyword">from</span> <span class="token string">&quot;@babel/types&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> visitor <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">ArrowFunction</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        path<span class="token punctuation">.</span><span class="token function">replaceWith</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">FunctionDeclaration</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> params<span class="token punctuation">,</span> body<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="generate-代码生成"><a href="#generate-代码生成" aria-hidden="true" class="header-anchor">#</a> Generate(代码生成)</h3> <p>经过上面两个阶段，需要转译的代码已经经过转换，生成新的AST了，最后根据这个AST来输出代码
这个过程是通过使用<a href="https://github.com/babel/babel/tree/master/packages/babel-generator" target="_blank" rel="noopener noreferrer">@babel/generator<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>来完成的，当然，也是深度优先遍历</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * Babel's code generator, turns an ast into code, maintaining sourcemaps,
 * user preferences, and valid output.
 */</span>

<span class="token keyword">class</span> <span class="token class-name">Generator</span> <span class="token keyword">extends</span> <span class="token class-name">Printer</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">ast<span class="token punctuation">,</span> opts <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> code</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> format <span class="token operator">=</span> <span class="token function">normalizeOptions</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> opts<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> map <span class="token operator">=</span> opts<span class="token punctuation">.</span>sourceMaps <span class="token operator">?</span> <span class="token keyword">new</span> <span class="token class-name">SourceMap</span><span class="token punctuation">(</span>opts<span class="token punctuation">,</span> code<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>format<span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>ast <span class="token operator">=</span> ast<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  ast<span class="token punctuation">:</span> Object<span class="token punctuation">;</span>

  <span class="token comment">/**
   * Generate code and sourcemap from ast.
   *
   * Appends comments that weren't attached to any node to the end of the generated output.
   */</span>

  <span class="token function">generate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>ast<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="参考"><a href="#参考" aria-hidden="true" class="header-anchor">#</a> 参考</h2> <ul><li><a href="https://zhuanlan.zhihu.com/p/27289600" target="_blank" rel="noopener noreferrer">Babel是如何读懂JS代码的<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://moyueating.github.io/2017/07/08/%E6%B5%85%E8%B0%88babel%E5%8E%9F%E7%90%86%E4%BB%A5%E5%8F%8A%E4%BD%BF%E7%94%A8/" target="_blank" rel="noopener noreferrer">浅谈babel原理以及使用<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>[](https://cnodejs.org/topic/5a9317d38d6e16e56bb808d1</li> <li><a href="https://www.chyingp.com/posts/understanding-babel-runtime/" target="_blank" rel="noopener noreferrer">babel-runtime使用与性能优化<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.jianshu.com/p/7bc7b0fadfc2" target="_blank" rel="noopener noreferrer">对babel-transform-runtime，babel-polyfill的一些理解<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://taobaofed.org/blog/2016/09/30/babel-plugins/" target="_blank" rel="noopener noreferrer">理解 Babel 插件<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/5d11d797f265da1bd305676b#comment" target="_blank" rel="noopener noreferrer">初学 Babel 工作原理<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/summary/assets/js/app.42468a2d.js" defer></script><script src="/summary/assets/js/2.1ee37bec.js" defer></script><script src="/summary/assets/js/117.90d5b3de.js" defer></script>
  </body>
</html>
